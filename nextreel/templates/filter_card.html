<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">



    <style>
        /* Custom Variables */
        :root {
            --scrollerGrey: 219,219,219;
            --lightGrey: 227,227,227;
            --darkerGrey: 200,200,200;
            --tmdbDarkBlue: 3,37,65;
            --tmdbLightBlue: 1,180,228;
            --tmdbLighterGreen: 192,254,207;
            --tmdbLightGreen: 30,213,169;
            --tmdbLogoGreen: 144,206,161;
            --tmdbLogoOrange: 253,193,112;
            --tmdbLogoRed: 217,59,99;
            --accountSilver: 149,149,149;
            --accountPink: 234,20,140;
            --accountPurple: 128,91,231;
            --accountGreen: 1,210,119;
            --accountTeal: 1,198,172;
            --accountLightBlue: 1,180,228;
            --accountBlue: 1,119,210;
            --accountOrange: 210,119,1;
            --accountYellow: 210,144,1;
            --accountRed: 212,2,66;
            --imageBorderRadius: 8px;
            --maxPrimaryPageWidth: 1400px;
            --numberOfDiscoverColumns: 5;
        }

        /* Styling for Filter Card */
        .filter_panel.card {
            color: #000;
            font-family: "Source Sans Pro", Arial, sans-serif;
            font-size: 1em;
            -webkit-font-smoothing: antialiased;
            box-sizing: border-box;
            box-shadow: 0 2px 8px rgba(0,0,0,.1);
            background-color: #fff;
            min-width: 300px;
            width: 300px;
            border: 1px solid #e3e3e3;
            border-radius: var(--imageBorderRadius);
            display: flex;
            flex-wrap: wrap;
            justify-content: space-between;
            overflow: hidden;
            margin-top: 12px;
            margin-left: 6px;

            /* Add or modify this line */
            flex-direction: column;  /* Stack children vertically */

            min-height: 1000px;


            /* Add padding to the left side */
            padding-left: 20px;  /* Adjust this value as needed */

        }


        /* Styling for form field */
        .k-form-field {
            display: flex;
            align-items: center;  /* Vertically align radio and label */
        }

        /* Styling for radio button */
        .k-radio {
            margin-right: 8px;  /* Add some space between radio and label */
        }


        /* Styling for dropdown */
        .k-dropdown {
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: var(--imageBorderRadius);
            width: 100%;  /* Make it full width within its container */
            box-sizing: border-box;  /* Include padding and border in total width */
        }



        /* Styling for IMDb Score Section */
        .form-control {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
            border: 1px solid var(--lightGrey);
            border-radius: var(--imageBorderRadius);
        }

        /* Styling for IMDb Score Range Slider */
        input[type=range] {
            width: 80%;
            height: 8px;
            background: var(--lightGrey);
            outline: none;
            opacity: 0.7;
            -webkit-transition: .2s;
            transition: opacity .2s;
            border-radius: var(--imageBorderRadius);
        }





        /* Existing classes and styles are kept as is */

        /* New class to make the elements inline-block */
        .col-3-inline.text-center {
            display: inline-block;
            width: auto;
            text-align: center;
            margin-right: 10px;  /* Added some margin for spacing */
        }

        /* Ensure the row is block level to contain its inline-block children */
        .row.no-gap.mb-30 {
            display: block;
        }




        .mb-30{
            margin-bottom: 15px;
        }


        .card .card-body {
            padding: 1.25rem 1.75rem;
        }


        label.no-gap .col-3 {
            margin-bottom: 0 !important;
        }

        .no-gap > .col-3 {
            padding-left: 0 !important;
            padding-right: 0 !important;
        }


        /* Override the width of the .col-3 within the .filter_panel.card to be 100% */
        .filter_panel.card .col-3.text-center {
            width: 100%;
        }

        /* Make each form field take up 50% width of the container */
        .col-1-5-inline.text-center {
            width: 50%;
        }




        /* Add this new style to center the content inside .form-check */
        .form-check {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* New class to make the elements inline-block with a width of 1.5 columns */
        .col-1-5-inline.text-center {
            display: inline-block;
            width: calc(100% / 12 * 1.5);  /* Calculate the width for 1.5 columns */
            text-align: center;
            margin-right: 10px;  /* Added some margin for spacing */
        }

        .language-dropdown {
            width: 100%;  /* You can set this to any value that suits your design */
            align-items: center;  /* Center text vertically */
            justify-content: center;
        }

        /* Add these styles to make the checkboxes the same size */
        .check span {
            min-width: 60px;  /* Minimum width */
            /* remove the fixed width */
            height: 40px;  /* Fixed height */
            display: flex;
            align-items: center;  /* Center text vertically */
            justify-content: center;  /* Center text horizontally */
            white-space: nowrap;  /* Prevents the text from wrapping */
        }




        .container-fluid {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Add this new style to center the content inside .form-check */
        .form-check {
            display: flex;
            justify-content: center;
            align-items: center;
        }





        .filter_panel.card .row.no-gap.mb-30 {
            flex-direction: column;
        }

        .filter_panel.card .col-3.text-center {
            width: 100%;
        }

        .filter_panel.card .form-control {
            width: 95%; /* reduced from 100% to fit better */
        }



        label.check {
            cursor: pointer;
        }

        label.check input {
            position: absolute;
            top: 0;
            left: 0;
            visibility: hidden;
            pointer-events: none;
        }

        /* Updated CSS for the genre buttons */
        label.check span {
            /* ... existing styles ... */
            min-width: 60px;  /* Minimum width */
            /* remove the fixed width */
            height: 40px;  /* Fixed height */
            display: flex;
            align-items: center;  /* Center text vertically */
            justify-content: center;  /* Center text horizontally */
            white-space: nowrap;  /* Prevents the text from wrapping */
            padding: 7px 14px; /* Add padding so that it will look good even when the text is small */
            border-radius: 20px;  /* New: Add rounded corners */
            border: 1px solid #2a2929; /* New: Add a border when not selected */
        }

        label.check input:checked + span {
            border-color: #19c20c;
            background-color: #19c20c;
            color: #fff;
        }

        label.no-gap .col-3 {
            margin-bottom: 0 !important;
        }


        /* Special class to force year fields to be on the same row */
        .year-row {
            flex-direction: row !important;
        }

        /* Additional class to ensure each year input field takes half of the width */
        .year-col {
            flex: 1;  /* Take up equal space in the row */
        }

        /* Styling for Genre Container */
        .genre-container {
            /* Existing Styles */
            flex-wrap: wrap;

            /* New Styles */
            direction: ltr;  /* Left-to-Right text direction */
            display: inline-flex;  /* Make the container inline-flex */
            align-items: center;  /* Vertically align items in the container */
            width: 100%;  /* Take up the full width of the parent element */
            box-sizing: border-box;  /* Include padding and border in width and height */
            padding: 0;
            margin: 0;
        }

        /* Styling for Genre Buttons */
        .genre-button {
            /* Existing Styles */
            width: auto;
            flex: none;
            margin: 6px;

            /* New Styles */
            display: inline-flex;  /* Make the button inline-flex */
            align-items: center;  /* Vertically align content in the button */
            box-sizing: border-box;  /* Include padding and border in width and height */
            padding: 0;
            margin-top: -8px;
        }


        /* Add some padding to top and bottom of each section */
        .section-padding {
            padding-top: 20px;
            padding-bottom: 20px;
        }

        /* Alternatively, use margin to add space between sections */
        .section-margin {
            margin-top: 20px;
            margin-bottom: 20px;
        }











        .slider-ui {
            position: relative;
            width: 200px;
            height: 50px;
            margin: 20px 0;
        }
        .slider-ui input {
            position: absolute;
            z-index: 10;
            top: 0;
            bottom: 0;
            width: 100%;
            cursor: pointer;
            opacity: 0;
        }
        .slider-ui .bar {
            position: absolute;
            z-index: 1;
            left: 0;
            right: 0;
            top: 15px;
            bottom: 15px;
            background-color: #000;
            border-radius: 50px;
            box-shadow: 0 5px 0 rgba(0,0,0,.1);
        }
        .slider-ui .min,
        .slider-ui .max {
            position: relative;
            z-index: 2;
            top: 50%;
            transform: translateY(-50%);
            font-size: 14px;
            font-weight: 800;
            color: #fff;
        }
        .slider-ui .min {
            left: 2%;
        }
        .slider-ui .max {
            right: 2%;
        }
        .slider-ui .track {
            position: absolute;
            z-index: 3;
            left: 25px;
            right: 25px;
            top: 0;
            bottom: 0;
        }
        .slider-ui .value {
            position: relative;
            left: 50%;
            top: 0;
            width: 40px;  /* Reduce the size of the handle */
            height: 40px;  /* Reduce the size of the handle */

            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 14px;
            font-weight: 800;
            color: #fff;
            background-color: #fff;
            border: 4px solid #000;
            border-radius: 100%;
            box-sizing: border-box;
            transform: translateX(-50%);
            transition: top .3s ease-in-out, color .3s ease-in-out;
        }
        .slider-ui .value.up {
            top: -110%;
            color: #000;
        }
        .slider-ui.color1 .bar {
            background-color: #00b894;
        }
        .slider-ui.color1 .value {
            border-color: #00b894;
        }
        .slider-ui.color2 .bar {
            background-color: #00cec9;
        }
        .slider-ui.color2 .value {
            border-color: #00cec9;
        }
        .slider-ui.color3 .bar {
            background-color: #0984e3;
        }
        .slider-ui.color3 .value {
            border-color: #0984e3;
        }



        /* CSS */
        .slider-ui-container .slider-ui {
            position: relative;
            width: 100px;
            height: 40px;
            margin: 30px 0;
        }

        .slider-ui-container {
            display: block; /* Override flex display if any */
            justify-content: flex-start; /* Override centering */
            align-items: flex-start; /* Override centering */
        }

        /* Custom styles for headers within the filter panel */
        .filter_panel.card h2,
        .filter_panel.card h3 {
            font-size: 1.2em;  /* Adjust the font size */
            margin-top: 0;  /* Remove top margin */
            margin-bottom: 0.5em;  /* Add a little bottom margin for spacing */
            text-align: left;  /* Align text to the left */
        }




    </style>

</head>


<body>


<!-- filter_card.html -->
<div class="filter_panel card">
    <!-- Name Section -->
    <div class="name" data-callback="filterCallback()">
        <h2>Filters</h2>
        <span class="glyphicons_v2 chevron-right"></span>
    </div>



    <!-- Show Me Filters -->
    <div class="filter">
        <h3>Show Me
            <span class="tooltip glyphicons_v2 circle-question" data-tooltip-id="#show_me_tooltip" data-role="tooltip"></span>
        </h3>
        <label class="k-form-field">
            <input id="show_me_everything" class="k-radio" type="radio" name="show_me" value="0" checked="checked">
            <label for="show_me_everything" class="k-radio-label">Everything</label>
        </label>
        <label class="k-form-field">
            <input id="show_me_not_seen" class="k-radio" type="radio" value="1" name="show_me" disabled="">
            <label for="show_me_not_seen" class="k-radio-label">Movies I Haven't Seen</label>
        </label>
        <label class="k-form-field">
            <input id="show_me_seen" class="k-radio" type="radio" value="2" name="show_me" disabled="">
            <label for="show_me_seen" class="k-radio-label">Movies I Have Seen</label>
        </label>

        <!-- This is the main form where users can set filters for movies. -->
        <form action="/filtered_movie" method="post">




            <div class="filter section-padding">
                <!-- IMDb Score Section -->
                <div class="filter">  <!-- New section for IMDb Score -->
                    <h3>Min IMDb Score</h3>
                    <!-- Min-Max Number Inputs -->
                    <div class="k-form-field">
                        <input type="number" class="form-control" id="imdb_score_min" name="imdb_score_min" min="1" max="10" step="0.1" value="7.0">
                    </div>

                    <div class="slider-ui-container">
                        <input type="range" class="custom-slider" id="imdb_score_range" name="imdb_score_range" min="1" max="10" step="0.1" value="7.0">
                    </div>
                </div>
            </div>



            <div class="filter section-padding">  <!-- IMDb Score Section -->




                <div class="filter">  <!-- New section for Vote Count -->
                    <h3>Vote Count</h3>
                    <div class="k-form-field">
                        <input type="number" class="form-control" id="num_votes_min" name="num_votes_min" min="0" value="100000">
                    </div>
                    <div class="col-3 text-center">
                        <input type="number" class="form-control" id="num_votes_max" name="num_votes_max" min="1" max="2000000">
                    </div>
                </div>
            </div>




            <div class="filter section-padding">  <!-- IMDb Score Section -->


                <!-- Year Section -->
                <div class="filter">
                    <h3>Release Year</h3>


                    <div style="display: flex; flex-direction: row; justify-content: space-between;"> <!-- Inline style -->
                        <div style="width: 48%; text-align: center;"> <!-- Inline style -->
                            <input type="number" class="form-control" id="year_min" name="year_min" min="1900" value="1900">
                        </div>
                        <div style="width: 48%; text-align: center;"> <!-- Inline style -->
                            <input type="number" class="form-control" id="year_max" name="year_max" max="2023" value="2023">
                        </div>
                    </div>
                </div>
            </div>



            <div class="filter section-padding">  <!-- IMDb Score Section -->

                <div class="filter">  <!-- New section for Vote Count -->
                    <div class="genre-container">  <!-- New container for genre buttons -->

                        <!-- Place "Select All" checkbox here, above the 4 columns -->
                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input type="checkbox" id="selectAll" onclick="selectAllCheckboxes(this)" checked>
                                <span>Select All</span>
                            </label>
                        </div>

                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Action" id="Action" name="genres[]" checked>
                                <span>Action</span>
                            </label>
                        </div>

                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Adventure" id="Adventure" name="genres[]" checked>
                                <span>Adventure</span>
                            </label>
                        </div>

                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Animation" id="Animation" name="genres[]" checked>
                                <span>Animation</span>
                            </label>
                        </div>



                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Biography" id="Biography" name="genres[]" checked>
                                <span>Biography</span>
                            </label>
                        </div>







                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Comedy" id="Comedy" name="genres[]" checked>
                                <span>Comedy</span>
                            </label>
                        </div>

                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Crime" id="Crime" name="genres[]" checked>
                                <span>Crime</span>
                            </label>
                        </div>

                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Documentary" id="Documentary" name="genres[]" checked>
                                <span>Documentary</span>
                            </label>
                        </div>

                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Drama" id="Drama" name="genres[]" checked>
                                <span>Drama</span>
                            </label>
                        </div>



                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Fantasy" id="Fantasy" name="genres[]" checked>
                                <span>Fantasy</span>
                            </label>
                        </div>



                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Horror" id="Horror" name="genres[]" checked>
                                <span>Horror</span>
                            </label>
                        </div>

                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Musical" id="Musical" name="genres[]" checked>
                                <span>Musical</span>
                            </label>
                        </div>

                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Sci-Fi" id="Sci-Fi" name="genres[]" checked>
                                <span>Sci-Fi</span>
                            </label>
                        </div>



                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Sport" id="Sport" name="genres[]" checked>
                                <span>Sport</span>
                            </label>
                        </div>

                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Thriller" id="Thriller" name="genres[]" checked>
                                <span>Thriller</span>
                            </label>
                        </div>

                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="War" id="War" name="genres[]" checked>
                                <span>War</span>
                            </label>
                        </div>

                        <div class="form-check genre-button"> <!-- Note the added 'genre-button' class -->
                            <label class="check"> <!-- .check style applied here -->
                                <input class="form-check-input" type="checkbox" value="Western" id="Western" name="genres[]" checked>
                                <span>Western</span>
                            </label>
                        </div>

                    </div>
                </div>
            </div>



            <div class="filter section-padding">  <!-- IMDb Score Section -->


                <div class="filter">
                    <h3>Language</h3>

                    <!-- New section for Vote Count -->
                    <div class="col-12 text-center">


                        <select class="form-control language-dropdown" id="language" name="language">
                            <option value="en">en</option>
                            <option value="es">es</option>
                            <option value="fr">fr</option>

                            <!-- Add more languages here -->
                        </select>
                    </div>
                </div>
            </div>





            <div class="filter section-padding">  <!-- IMDb Score Section -->


                <!-- Moved 'Apply Filters' Button -->
                <div class="row mt-4 justify-content-center">
                    <div class="col">
                        <button type="submit" class="btn btn-primary">Apply Filters</button>
                    </div>
                </div>
            </div>


        </form>






    </div>




</div>
</div>


<script>
    // JavaScript to sync IMDb score range slider with min-max number inputs
    document.addEventListener("DOMContentLoaded", function() {
        // Function responsible for linking the IMDb score input field with the slider
        function linkInputAndSlider() {
            // Get elements by their IDs
            const minInput = document.getElementById("imdb_score_min");
            const rangeInput = document.getElementById("imdb_score_range");

            // Update number input when the range slider changes
            rangeInput.addEventListener("input", function() {
                minInput.value = rangeInput.value;
            });

            // Update range slider when number input changes
            minInput.addEventListener("input", function() {
                rangeInput.value = minInput.value;
            });
        }

        // Function controls the sliders' UI and behavior
        function controlSliders() {
            const sliders = document.querySelectorAll(".slider-ui");

            sliders.forEach(slider => {
                let input = slider.querySelector("input[type=range]");
                let min = input.getAttribute("min");
                let max = input.getAttribute("max");
                let valueElem = slider.querySelector(".value");

                slider.querySelector(".min").innerText = min;
                slider.querySelector(".max").innerText = max;

                function setValueElem() {
                    valueElem.innerText = input.value;
                    let percent = (input.value - min) / (max - min) * 100;
                    valueElem.style.left = percent + "%";
                }
                setValueElem();

                input.addEventListener("input", setValueElem);
                input.addEventListener("mousedown", () => {
                    valueElem.classList.add("up");
                });
                input.addEventListener("mouseup", () => {
                    valueElem.classList.remove("up");
                });
            });
        }

        // Call both functions when the document is ready
        linkInputAndSlider();
        controlSliders();

        // Get the dropdown element by its ID
        const voteCountDropdown = document.getElementById("vote_count");

        // Add the default option with a value of 0
        let defaultOption = document.createElement("option");
        defaultOption.value = 0;
        defaultOption.innerHTML = "0";
        voteCountDropdown.appendChild(defaultOption);

        // Loop to populate the dropdown starts from 25000 and goes up to 500000, incrementing by 25000 each time
        for (let i = 25000; i <= 500000; i += 25000) {
            let option = document.createElement("option");
            option.value = i;
            option.innerHTML = i.toLocaleString();
            voteCountDropdown.appendChild(option);
        }
    });

    // Function to select all checkboxes
    function selectAllCheckboxes(source) {
        const checkboxes = document.getElementsByName('genres[]');
        for(let i = 0; i < checkboxes.length; i++) {
            checkboxes[i].checked = source.checked;
        }
    }
</script>

<!-- Importing required JavaScript libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>






</body>
</html>
