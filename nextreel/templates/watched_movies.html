<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Watched Movies</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    <!-- Custom CSS to apply Flexbox -->
    <style>
        /* Define a flex container */
        .flex-container {
            display: flex;
            flex-direction: row;  /* Align children horizontally */
        }

        /* Styling for the filter card container */
        .filter-card-container {
            flex: 1;  /* Take up 1 part of the available space */
            /* You can also set a fixed width like width: 200px; */
    max-width: 300px;  /* Maximum width */
            max-height: 1000px;

        }

        /* Styling for the watched movie cards container */
        .watched-movie-cards-container {
            flex: 3;  /* Take up 3 parts of the available space */
        }



    </style>

</head>
<body>
    {% include 'navbar.html' %}

    <!-- Wrap the filter card and watched movie cards in a flex container -->
    <div class="flex-container">

        <!-- Include the filter card inside its container -->
        <div class="filter-card-container">
            {% include 'filter_card.html' %}

              <!-- Create a dropdown menu for sorting options -->
    <label for="sort-options">Sort by: </label>
    <select id="sort-options">
        <!-- Sorting by Year -->
        <optgroup label="Year">
            <!-- Sort by Year: Low to High -->
            <option value="year_low_to_high">Low to High</option>
            <!-- Sort by Year: High to Low -->
            <option value="year_high_to_low">High to Low</option>
        </optgroup>

        <!-- Sorting by IMDb Rating -->
        <optgroup label="IMDb Rating">
            <!-- Sort by IMDb Rating: Low to High -->
            <option value="imdb_low_to_high">Low to High</option>
            <!-- Sort by IMDb Rating: High to Low -->
            <option value="imdb_high_to_low">High to Low</option>
        </optgroup>

        <!-- Sorting by Vote Count -->
        <optgroup label="Vote Count">
            <!-- Sort by Vote Count: Low to High -->
            <option value="vote_low_to_high">Low to High</option>
            <!-- Sort by Vote Count: High to Low -->
            <option value="vote_high_to_low">High to Low</option>
        </optgroup>
    </select>
        </div>

        <!-- Include the watched movie cards inside its container -->
        <div class="watched-movie-cards-container">
            {% include 'watched_movie_cards.html' %}
        </div>

    </div>  <!-- End of flex-container -->


<!-- Add this JavaScript snippet at the end of your watched_movies.html -->
<script>
  document.addEventListener("DOMContentLoaded", function(){
    // Listen for changes on dropdown menu
    document.getElementById('sort-options').addEventListener('change', function() {
      // Reload the page with the selected sorting option as a query parameter
      window.location.href = "/watched_movies?sort_by=" + this.value;
    });
  });
</script>


</body>
</html>
