<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <!-- Style for the navbar buttons -->
    <style>
        /* Custom button styles */
        .btn-custom {
            background-color: #1f8efa !important;
            color: #ffffff !important;
            border: none;
            margin-right: 15px;
        }
        /* Hover effect */
        .btn-custom:hover {
            background-color: #1f8efa;
        }

.navbar {
    position: sticky !important;
    top: 0 !important;
    z-index: 1000 !important;

}

        /* Reset body margin-top */
        body {
            margin-top: 0 !important;
        }



    </style>
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light">

        <div class="collapse navbar-collapse" id="navbarNav">
            <a href="{{ url_for('home') }}">
                <img src="{{ url_for('static', filename='nextreel_logo_nobg.png') }}" height="100">
            </a>
            <ul class="navbar-nav ml-auto">
                <!-- Display "Set Filters" button always -->

                <li class="nav-item">
                    <a href="/movie" class="btn btn-custom">Pick a Movie</a>
                </li>

                <li class="nav-item">
                    <a href="/setFilters" class="btn btn-custom">Set Filters</a>
                </li>



                <!-- Check if the user is authenticated -->
                {% if current_user.is_authenticated %}
                    <!-- Display user-specific menu if logged in -->
                    <li class="nav-item dropdown">
                        <button type="button" class="btn btn-custom dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                            {{ current_user.username }}
                        </button>
                        <div class="dropdown-menu">
                            <a class="dropdown-item" href="/watched_movies">Watched Movies</a>
                            <a class="dropdown-item" href="/user_watch_list">Watchlist</a>
                            <a class="dropdown-item" href="/account_settings">Settings</a>
                            <a class="dropdown-item" href="/logout">Logout</a>
                        </div>
                    </li>
                {% else %}
                    <!-- Display general menu if not logged in -->
                    <li class="nav-item">
                        <a href="/login" class="btn btn-custom">Login</a>
                    </li>
                    <!-- Display "Join Nextreel" button only when not logged in -->
                    <li class="nav-item">
                        <a href="/register" class="btn btn-custom">Join Nextreel</a>
                    </li>


                {% endif %}
            </ul>

    </div>
</nav>
</body>
</html>
